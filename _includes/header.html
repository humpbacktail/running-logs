<header class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="{{ "/" | relative_url }}">{{ site.title | escape }}</a>

    <nav class="site-nav">
      <!-- ★ 最小インラインCSS：必ず効かせるため -->
      <style>
        /* PCでもハンバーガーを常時表示／スマホの灰色枠を消す */
        .site-nav label[for="nav-trigger"]{display:inline-flex!important;align-items:center;padding:.35rem .45rem;background:transparent!important;border:0!important;box-shadow:none!important;cursor:pointer}
        .site-nav .menu-icon{border:0!important;background:transparent!important}

        /* 入力は隠す／初期は非表示（ドロワー） */
        .nav-trigger{display:none}
        .site-nav .trigger{display:none}

        /* 右ドロワー（スライド）＋背景 */
        .site-nav .trigger{
          position:fixed;top:0;right:0;width:320px;max-width:85vw;height:100vh;
          background:#fff;padding:1rem 1.25rem;overflow-y:auto;
          box-shadow:-6px 0 24px rgba(0,0,0,.12);
          transform:translateX(100%);transition:transform .25s ease;z-index:1001
        }
        #nav-trigger:checked ~ .trigger{display:block;transform:translateX(0)}
        .site-nav .nav-backdrop{display:none;position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:1000}
        #nav-trigger:checked ~ .nav-backdrop{display:block}

        /* 見出し＆リスト体裁 */
        .menu-heading{font-size:1rem;margin:.25rem 0 .5rem;font-weight:700}
        .menu-logs{margin:0;padding-left:1rem;max-height:60vh;overflow-y:auto}
        .menu-logs li{list-style:none;margin:.1rem 0;line-height:1.3}
        .menu-logs .page-link{display:inline-block;text-decoration:none}
        .menu-logs .more-link{font-weight:700;margin-top:.25rem}
        
        /* PCでもナビを右端に固定して、常にアイコンが見えるようにする */
        .site-header .wrapper{display:flex;align-items:center}
        .site-header .site-title{margin:0}
        .site-nav{margin-left:auto;float:none !important;position:relative;z-index:1002}
        .site-nav label[for="nav-trigger"]{display:inline-flex !important}       
      </style>

      <!-- 開閉トグル -->
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger" class="trigger-label" aria-label="メニューを開く">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18" height="15" aria-hidden="true">
            <path d="M18,1.5H0v-1h18v1z M18,8.5H0v-1h18v1z M18,14.5H0v-1h18v1z"/>
          </svg>
        </span>
      </label>

      <!-- ドロワー本体：開いたら直近10件を即表示 -->
      <div class="trigger" role="dialog" aria-modal="true" aria-label="メニュー">
        <label for="nav-trigger" class="close-btn" aria-label="閉じる">×</label>

        <h3 class="menu-heading">直近のラン（10）</h3>
        <ul class="menu-logs">
          {% assign recent_logs = site.logs | sort: "date" | reverse | slice: 0, 10 %}
          {% for log in recent_logs %}
            <li><a class="page-link" href="{{ log.url | relative_url }}">{{ log.title | escape }}</a></li>
          {% endfor %}
          <li><a class="page-link more-link" href="{{ "/logs/" | relative_url }}">もっと見る →</a></li>
        </ul>
      </div>

      <!-- 背景（クリックで閉じる） -->
      <label for="nav-trigger" class="nav-backdrop" aria-hidden="true"></label>
    </nav>
  </div>
</header>
